language: node_js
node_js:
  - '0.10'

git:
  depth: 1

before_install:
  - gem update --system
  - gem install compass --no-document
  - gem install tilt  --version "1.4.1" --no-document

before_script:
  - chmod +x .travis/after_success.sh
  - chmod +x ./deploy

script:
  - npm test

branches:
  except:
    - gh-pages

env:
  global:
    - REPO="git@github.com:code4hk/project-hub-mockup"
    - secure: "KHLPGIR9cXAVfVxuWns8JbCxjs8tch6OlQZtZMszEVJimK9U5cjPOyDLcwx25kuwvcgm/7zfyOLWQbJpkjteROE1BixyRVu8fEwX/kkxnokIWvjykz6Txn9NDjn3ulicjKELueJu+l5NmjGL0gf1dcHBGNCso72iam1K3tsPto4="

after_success: .travis/after_success.sh
